import c from"javascript-obfuscator";function u(t){return{name:"vite-plugin-bundle-obfuscator",transformIndexHtml:{enforce:"post",transform(n,e){if(!(e!==null&&e.bundle))return n;console.log("obfuscate files");for(let[r,o]of Object.entries(e.bundle))"code"in o&&o.code&&t.excludes.every(s=>!r.includes(s))&&(console.log(`Obfuscating ${r}...`),o.code=c.obfuscate(o.code,t.options).getObfuscatedCode());return console.log("obfuscate done"),n}}}}export{u as default};
